<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>You got redirected!</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="icon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
  </head>
  <body class="theme2" onload="getBack();">
    <div id="message" class="small space">Why did you decide to Google that?</div>
    <div id='link' class='space'><input id="newBreak" type="text"><button id="submit" onClick="submit()">Submit</button>
      <div id="dropdown">
        <span class="custom-select" style="width:200px;">
          <select id='custom-reason'>
            <option id="-1" value="-1"></option>
          </select>
        </span><button onclick="submit()">Submit</button>
      </div>
      <div id='slider1' style='display:none;'>
        <div class='slidercontainer space'>
          <input type="range" min="0" max="10" value="0" class="slider" id="importance-slider"> <button onclick="submit()">Submit</button>
        </div>
        <div id="importance">It's totally useless information</div>
      </div>
      <div id='yesnomaybe' class='three-list' style='display:none;'>
        <a class='anime-link' onclick="ok()">Yes</a>
        <a class='anime-link' onclick="submit()">No</a>
        <a class='anime-link' onclick="submit()">Maybe</a>
      </div>
      <div id='urgent' style='display:none;'>
        <span class="custom-select" style="width:200px;">
          <select id='urgent-levels'>
            <option id="u0" value="0">When convenient</option>
            <option id="u1" value="1">As soon as possible</option>
            <option id="u2" value="2">Immediately</option>
          </select>
        </span><button onclick="submit()">Submit</button>
      </div>
    </div>
    <script>
    var count = 0;
    function submit() {
      console.log($("custom-reason").value);
      console.log($($("custom-reason").value).innerHTML);
      console.log($("newBreak").value);
      console.log(importanceValues[slider1.value]);
      var inputText = '';
      if($("newBreak").value === '' && count !== 3)
      {
        if(slider1.value !== "0")
          inputText = importanceValues[slider1.value];
        else
          inputText = $($("custom-reason").value).innerHTML.toLowerCase();
        console.log(":D");
      }
      else if(count === 3)
        inputText = $("u" + $("urgent-levels").value).innerHTML.toLowerCase();
      else
        inputText = $("newBreak").value.toLowerCase();
      console.log(inputText);

      if (found(['assignment','project','exam','test','college','class','study'],inputText) || slider1.value === "6" || slider1.value === "9" || count === 3 && inputText === 'immediately') {
        $("message").innerHTML = "Hopefully your search will lead to learning new things or passing assignments.<br>Don't forget to block Google soon.";
        message.classList.add("small");
        document.body.removeChild($("link"));
      }
      else if(inputText.indexOf("anime") >= 0) {
        $("message").innerHTML = "Watch some anime instead. You're almost done anyway.";
        $("link").innerHTML = "<a href='nextanime.html'>Click here to coninue.</a>";
      }
      else if(slider1.value > 3 && slider1.value < 6 || count === 3 && inputText === 'when convenient')
        ok();
      else if(count === 3 && inputText === 'as soon as possible') {
        $("message").innerHTML = "<a href='https://www.google.com/search?q=take+a+deep+breath' target='_blank'>Take deep breaths</a>, finish whatever you're doing, and do that thing next.";
        document.body.removeChild($("link"));
      }
      else if(slider1.value === "7") {
        count = 3;
        $("message").innerHTML = "How urgent is this? When should you do it?";
        $("slider1").style.display = "none";
        $("urgent").style.display = "block";
      }
      else
        finalTest(inputText,"google")
    }

    var reasons = ["Because I'm lazy",
    "Because I'm bored",
    "For no reason",
    "Because I feel like it",
    "Because I wanted to",
    "Because I need to",
    "Because I feel curious",
    "I'm struggling in life",
    "I don't know",
    "Because I can",
    "To learn new things",
    "I meant to watch anime instead",
    "To listen to music",
    "For research",
    "Because I feel stressed",
    "Because I feel busy",
    "Because I feel hungry",
    "I feel like playing games",
    "I just relapsed",
    "Because I can't focus",
    "Because I feel overwhelmed",
    "Because I want to relax",
    "To pass my classes",
    "For a project",
    "For a college assignment",
    "For a college exam",
    "Because it felt funny",
    "I got something I need to do",
    "I'm ready to do something else"];
    for(var i in reasons) {
      var option = document.createElement('option');
      option.id = i;
      option.value = i;
      option.innerHTML = reasons[i];
      document.getElementById("custom-reason").appendChild(option);
    }

    var importanceValues = ['It\'s totally useless information',
    'It\'s probably useless information',
    'It would be nice to know',
    'It could help me with trivia quizzes',
    'It could make me happier',
    'It could come in handy',
    'It\'s related to what I\'m doing',
    'It could minimize some risks',
    'It will help with college classes',
    'It could save my life',
    'It upsets me so much'];
    var importance = document.getElementById("importance");
    var slider1 = document.getElementById("importance-slider");
    slider1.max = importanceValues.length - 1;
    slider1.oninput = function () {
      importance.innerHTML = importanceValues[slider1.value];
    }

    function ok() {
      $("message").innerHTML = "OK! Add that your \"Search Terms\" list to search for later!";
      $("message").classList.remove("small");
      document.body.removeChild($("link"));
    }
    </script>
    <script src="interactivefiction.js"></script>
  </body>
</html>
