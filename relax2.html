<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Relax.</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="icons/icon-meditate.ico">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon RL.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body class="relax">
    <div id='message' class='space'>More guided meditations.</div>
    <div id='message2' class='space' style='margin-top:1em;'>
      One of the many meditations to choose from in <a href="https://app.mysoundwise.com/mysoundcasts" target="_blank">Soundwise</a> is called <strong id='random' style='color:darkblue'></strong> from <span id='category'></span>. It is long but worth it.
    </div>
    <!--div id='sad-grid' class='relax-list' style='display:none; margin-top:1em;'>
      <a class="hfire-link" onclick='reason("fed up")'>I feel fed up</a> <a class="hfire-link" onclick='reason("upset")'>I feel upset</a> <a class="hfire-link" onclick='reason("disappointed")'>I feel disappointed</a>
      <a class="hfire-link" onclick='reason("lonely")'>I feel like I can't make friends</a> <a class="hfire-link" onclick='reason("lost")'>I feel lost</a> <a class="hfire-link" onclick='reason("lost all hope")'>All hope is lost for me</a>
      <a class="hfire-link" onclick='reason("fail")'>I failed in life</a> <a class="hfire-link" onclick='reason("fail")'>I feel like a failure</a> <a class="hfire-link" onclick='reason("waste")'>I feel like a waste</a>
      <a class="hfire-link" onclick='reason("awful")'>I feel awful</a> <a class="hfire-link" onclick='reason("waste")'>I feel stuck</a> <a class="hfire-link" onclick='reason("grief")'>I'm dealing with loss</a>
      <a class="hfire-link" onclick='reason("unconfident")'>I don't feel confident</a> <a class="hfire-link" onclick='reason("self hate")'>I hate myself</a> <a class="hfire-link" onclick='reason("sad")'>I just feel sad</a>
    </div-->
    <div id='message3' style='font-weight:bold;'>Choose a Category</div>
    <div id='category-list' class="relax-list">
      <a class='hfire-link' onclick="openList('abundance-list')">Abundance</a>
      <a class='hfire-link' onclick="openList('habits-list')">Breaking Habits</a>
      <a class='hfire-link' onclick="openList('meditate-list')">Meditate</a>
      <a class='hfire-link' onclick="openList('mental-health-list')">Mental Health</a>
      <a class='hfire-link' onclick="openList('mindfulness-list')">Mindfulness</a>
      <a class='hfire-link' onclick="openList('physical-health-list')">Physical Health</a>
      <a class='hfire-link' onclick="openList('positivity-list')">Positivity</a>
      <a class='hfire-link' onclick="openList('relaxation-list')">Learn to Relax</a>
      <a class='hfire-link' onclick="openList('sleep-list')">Sleep</a>
      <a class='hfire-link' onclick="openList('time-list')">Make Use of Day</a>
      <a class='hfire-link forward' onclick="openList(lastList)">Go Forward</a>
    </div>
    <div id='abundance-list' class="relax-list" style='display:none;'>
      <!--Creating Abundance-->
      <a class='hfire-link link abundance' id="abundance">Create Abundance</a>
      <a class='hfire-link link abundance' id="attraction">Law of Attraction</a>
      <a class='hfire-link link abundance' id="money">Money Magnetism</a>
      <a class='hfire-link link abundance' id="motivation">Motivation for Success</a>
      <a class='hfire-link link abundance' id="prosperity_i">Increase Prosperity</a>
      <a class='hfire-link link abundance' id="prosperity_v">Visualise Prosperity</a>
      <a class='hfire-link close abundance' onclick="closeList('abundance-list')">Go Back</a>
    </div>
    <div id='habits-list' class="relax-list" style='display:none;'>
      <!--Breaking Habits-->
      <a class='hfire-link link habits' id="anger">Let Go of Anger</a>
      <a class='hfire-link link habits' id="guilt">Let Go of Guilt</a>
      <a class='hfire-link link habits' id="moveon">Move On</a>
      <a class='hfire-link link habits' id="negativity">Let Go of Negativity</a>
      <a class='hfire-link link habits' id="procrastination">Beat Procrastination</a>
      <a class='hfire-link link habits' id="social-phobia">Beat Social Phobia</a>
      <a class='hfire-link link habits' id="worring">Stop Worrying</a>
      <a class='hfire-link close habits' onclick="closeList('habits-list')">Go Back</a>
    </div>
    <div id='meditate-list' class="relax-list" style='display:none;'>
      <!--Meditate-->
      <a class='hfire-link link meditate' id="astral_flying">Astral Flying</a>
      <a class='hfire-link link meditate' id="cleansing">Cleansing Meditation</a>
      <a class='hfire-link link meditate' id="charka">Charka Meditation</a>
      <a class='hfire-link link meditate' id="energy">Energy Meditation</a>
      <a class='hfire-link link meditate' id="energy_healing">Energy Healing and Balancing</a>
      <a class='hfire-link link meditate' id="expansion">Expansion Meditation</a>
      <a class='hfire-link link meditate' id="freedom">Freedom Meditation</a>
      <a class='hfire-link link meditate' id="ground">Ground and Centre</a>
      <a class='hfire-link link meditate' id="inner_guide">Meet Your Inner Guide</a>
      <a class='hfire-link link meditate' id="inner_child">Healing the Inner Child</a>
      <a class='hfire-link link meditate' id="meditate">Meditate</a>
      <a class='hfire-link link meditate' id="serenity">Serenity Meditation</a>
      <a class='hfire-link close meditate' onclick="closeList('meditate-list')">Go Back</a>
    </div>
    <div id='mental-health-list' class="relax-list" style='display:none;'>
      <!--Improve Your Mental Health-->
      <a class='hfire-link link mental-health' id="believe">Believe in Yourself</a>
      <a class='hfire-link link mental-health' id="breath">Breath of Life</a>
      <a class='hfire-link link mental-health' id="clear">Clear Your Mind</a>
      <a class='hfire-link link mental-health' id="confidence">Confidence</a>
      <a class='hfire-link link mental-health' id="discipline">Self-Discipline</a>
      <a class='hfire-link link mental-health' id="disconnect">Disconnect</a>
      <a class='hfire-link link mental-health' id="emotional">Emotional Strength Meditation</a>
      <a class='hfire-link link mental-health' id="gratitute">Be Grateful</a>
      <!--a class='hfire-link link mental-health' id="grief">Resolve Grief</a-->
      <a class='hfire-link link mental-health' id="happy">Be Happy</a>
      <a class='hfire-link link mental-health' id="panic">Don't Panic</a>
      <a class='hfire-link link mental-health' id="peaceful">Be Peaceful</a>
      <a class='hfire-link link mental-health' id="memory">Improve Your Memory</a>
      <a class='hfire-link link mental-health' id="quiet">Quiet Mind</a>
      <a class='hfire-link link mental-health' id="stress-free">Stress Free</a>
      <a class='hfire-link close mental-health' onclick="closeList('mental-health-list')">Go Back</a>
    </div>
    <div id='mindfulness-list' class="relax-list" style='display:none;'>
      <!--Practice Mindfulness-->
      <a class='hfire-link link mindfulness' id="breathing">Mindful Breathing</a>
      <a class='hfire-link link mindfulness' id="mindfulness">Mindful Meditation</a>
      <a class='hfire-link link mindfulness' id="now_here_this">Now Here This Meditation</a>
      <a class='hfire-link link mindfulness' id="present">Living in the Present</a>
      <a class='hfire-link close mindfulness' onclick="closeList('mindfulness-list')">Go Back</a>
    </div>
    <div id='physical-health-list' class="relax-list" style='display:none;'>
      <!--Improve Your Physical Health-->
      <a class='hfire-link link physical-health' id="fit">Get Fit</a>
      <a class='hfire-link link physical-health' id="healing">Visualise Healing</a>
      <a class='hfire-link link physical-health' id="health">Health Boost</a>
      <a class='hfire-link link physical-health' id="pain">Manage Pain</a>
      <a class='hfire-link link physical-health' id="posture">Improve Posture</a>
      <a class='hfire-link link physical-health' id="symptom">Symptom Control</a>
      <a class='hfire-link link physical-health' id="water">Drink Water</a>
      <a class='hfire-link close physical-health' onclick="closeList('physical-health-list')">Go Back</a>
    </div>
    <div id='positivity-list' class="relax-list" style='display:none;'>
      <!--Increase Positivity-->
      <a class='hfire-link link positivity' id="creativity">Build Creativity</a>
      <a class='hfire-link link positivity' id="love">Attract Love</a>
      <a class='hfire-link link positivity' id="positivity">Positivity</a>
      <a class='hfire-link link positivity' id="self-image">Positive Self Image</a>
      <a class='hfire-link close positivity' onclick="closeList('positivity-list')">Go Back</a>
    </div>
    <div id='relaxation-list' class="relax-list" style='display:none;'>
      <!--Learn the Art of Relaxation-->
      <a class='hfire-link link relaxation' id="relax_i">How to Relax 1</a>
      <a class='hfire-link link relaxation' id="relax_ii">How to Relax 2</a>
      <a class='hfire-link link relaxation' id="relax_iii">How to Relax 3</a>
      <a class='hfire-link link relaxation' id="relax_iv">How to Relax 4</a>
      <a class='hfire-link link relaxation' id="relax">Relax</a>
      <a class='hfire-link link relaxation' id="relax_lite">Relax Lite</a>
      <a class='hfire-link link relaxation' id="deeper">Deeper Relaxation</a>
      <a class='hfire-link link relaxation' id="relaxation">Relaxation Meditation</a>
      <a class='hfire-link close relaxation' onclick="closeList('relaxation-list')">Go Back</a>
    </div>
    <div id='sleep-list' class="relax-list" style='display:none;'>
      <!--Improve Your Sleep-->
      <a class='hfire-link link sleep' id="back_sleep">Back to Sleep</a>
      <a class='hfire-link link sleep' id="deep_sleep">Deep Sleep</a>
      <a class='hfire-link link sleep' id="deeper_sleep">Deeper Sleep</a>
      <a class='hfire-link link sleep' id="nap">Power Nap</a>
      <a class='hfire-link close sleep' onclick="closeList('sleep-list')">Go Back</a>
    </div>
    <div id='time-list' class="relax-list" style='display:none;'>
      <!--Make the Most of Your Day-->
      <a class='hfire-link link day' id="morning">Morning Boost</a>
      <a class='hfire-link link day' id="lunch">Lunchtime Boost</a>
      <a class='hfire-link link day' id="evening">Evening Boost</a>
      <a class='hfire-link close day' onclick="closeList('time-list')">Go Back</a>
    </div>
    <a id='back-button' href='relax.html' class='hfire-link'><strong style='color:darkred;'>Back</strong></a>
    <!--a id='one' href='https://insighttimer.com/andrewjohnson/guided-meditations/power-nap' class='hfire-link link'>Power Nap</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/relax-lite' class='hfire-link link'>Relax Lite</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/law-of-attraction-meditation' class='hfire-link link'>Law of Attraction</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/positivity' class='hfire-link link'>Positivity</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/astral-flying' class='hfire-link link'>Astral Flying</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/believe-in-yourself-meditation' class='hfire-link link'>Believe In Yourself</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/visualise-success' class='hfire-link link'>Visualise Success</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/meet-your-inner-guide-2' class='hfire-link link'>Inner Guide</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/be-grateful-with-andrew-johnson' class='hfire-link link'>Be Grateful</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/boost-your-confidence-2' class='hfire-link link'>Boost Your Confidence</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/mindful-awareness-meditation-2' class='hfire-link link'>Mindful Awareness</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/be-happy' class='hfire-link link'>Be Happy</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/expansion-meditation-3' class='hfire-link link'>Expansion Meditation</a>
    <a id='fourteen' href='https://insighttimer.com/andrewjohnson/guided-meditations/evening-boost-meditation' class='hfire-link'>Evening Boost</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/stress-free' class='hfire-link link'>Stress Free</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/mindful-breathing-12' class='hfire-link link'>Mindful Breathing</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/freedom-meditation-2' class='hfire-link'>Long-lasting Freedom I</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/be-peaceful-meditation' class='hfire-link'>Be Peaceful</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/stop-worrying-2' class='hfire-link'>Stop Worrying</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/freedom-meditation-6' class='hfire-link'>Long-lasting Freedom II</a>
    <a hfef='https://insighttimer.com/andrewjohnson/guided-meditations/build-creativity' class='hfire-link'>Build Creativity</a>
    <a href='https://insighttimer.com/andrewjohnson/guided-meditations/quiet-mind-meditation' class='hfire-link'>Quiet Mind Meditation</a-->
    <script src="relax-long-meditations.js"></script>
    <script>
      const moodSearch = window.location.search;
      if (moodSearch !== "") {
        const parameter = new URLSearchParams(moodSearch);
        let mood = parameter.get('mood');
        switch(mood) {
          case "angry":
            message2.innerHTML = "I notice that you are angry. I suggest listening to <strong style='color:darkblue;'>Let Go of Anger</strong> from Breaking Habits. It is long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "worried":
            message2.innerHTML = "I notice that you are worried. I suggest listening to <strong style='color:darkblue;'>Stop Worrying</strong> from Breaking Habits. It is long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "stressed":
            message2.innerHTML = "I notice that you are stressed. I suggest listening to <strong style='color:darkblue;'>Stress Free</strong> from Mental Health. It is long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "lazy":
            message2.innerHTML = "I notice that you are lazy. I suggest listening to <strong style='color:darkblue;'>Improve Posture</strong> from Physical Health. It is long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "unconfident":
            message2.innerHTML = "I notice that you feel unconfident. I suggest listening to <strong style='color:darkblue;'>Confidence</strong> from Mental Health. It is long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "sad":
            message2.innerHTML = "I notice that you feel sad. I suggest exploring the Mental Health category to find something you like. These guided meditations are long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "self hate":
            message2.innerHTML = "You may be disappointed in yourself, but I suggest listening to <strong style='color:darkblue;'>Believe in Yourself</strong> from Mental Health. It is long, but worth it. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "morning":
            message2.innerHTML = "Good morning. Listen to <strong style='color:darkblue;'>Morning Boost</strong> from Make Use of Day for an early boost. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "evening":
            message2.innerHTML = "Good evening. Listen to <strong style='color:darkblue;'>Evening Boost</strong> from Make Use of Day for a late-day boost. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          case "late night":
            message2.innerHTML = "Need to go back to sleep? <strong style='color:darkblue;'>Back to Sleep</strong> from Sleep will help you. Here's the <a href=\"https://app.mysoundwise.com/mysoundcasts\" target=\"_blank\">Soundwise</a> link.";
            break;
          default:
            randomMeditation();
        }
      }
      else {
        randomMeditation();
      }

      function displayInfo(){
        /*let object = document.getElementById('meditation-list').value;
        object = objects[object];
        if(object !== null && object !== undefined)
          document.getElementById("info").innerHTML = object.name + ": " + object.description + "<br>It can be found under <strong style='color:darkblue;'>" + object.category + "</strong>, its length is " + object.time + ", and it was listened to " + object.plays + " times.";
        else
          document.getElementById("info").innerHTML = "Info Coming Soon";*/
      }

      // Times: 1=morning(6AM-11AM), 2=midday(11AM-3PM) 3=afternoon(12PM-5PM), 4=evening(5PM-10PM), 5=night(10PM-2AM), 6=late night(1AM-6AM)
      function randomMeditation() {
        let meditations = document.getElementsByClassName('link');
        let randomMeditation = [];
        let categories = [];
        let timeSensitive = [{name:'morning',time:1},{name:'lunch',time:2},{name:'power_nap',time:3},{name:'evening',time:4},{name:'deep_sleep',time:5},{name:'deeper_sleep',time:5},{name:'back_sleep',time:6}];
        let d = new Date();
        let h = d.getHours();
        //Gets rid of entries that won't get deleted in the randomMeditation function
        if(h === 1)
          timeSensitive.splice(4,3);
        else if(h > 1 && h < 6)
          timeSensitive.splice(6,1);
        else if(h >= 6 && h < 11)
          timeSensitive.splice(0,1);
        else if(h === 11)
          timeSensitive.splice(1,1);
        else if(h >= 12 && h < 15)
          timeSensitive.splice(1,2);
        else if(h >= 15 && h < 17)
          timeSensitive.splice(2,1);
        else if(h >= 17 && h < 22)
          timeSensitive.splice(3,1);
        else
          timeSensitive.splice(4,2);
        for(let i = 0; i < meditations.length; i++) {
          if(!found(timeSensitive,meditations[i].id)) {
            randomMeditation.push(meditations[i].innerHTML);
            categories.push(meditations[i].classList[2]);
            console.log(meditations[i].innerHTML + " " + meditations[i].classList[2]);
          }
        }

        let index = Math.floor(Math.random() * randomMeditation.length);
        document.getElementById("random").innerHTML = randomMeditation[index];
        switch(categories[index]) {
          case "abundance":
            category.innerHTML = "Abundance";
            break;
          case "habits":
            category.innerHTML = "Breaking Habits";
            break;
          case "meditate":
            category.innerHTML = "Meditate";
            break;
          case "mental-health":
            category.innerHTML = "Mental Health";
            break;
          case "mindfulness":
            category.innerHTML = "Mindfulness";
            break;
          case "physical-health":
            category.innerHTML = "Physical Health";
            break;
          case "positivity":
            category.innerHTML = "Positivity";
            break;
          case "relaxation":
            category.innerHTML = "Learn to Relax";
            break;
          case "sleep":
            category.innerHTML = "Sleep";
            break;
          case "day":
            category.innerHTML = "Make Use of Day";
            break;
        }
      }

      function found(array,text) {
        for (let i in array)
          if (array[i].name === text)
            return true;
        return false;
      }

      var lastList = 'category-list';

      function openList(id) {
        let category = document.getElementById("message3");
        switch(id) {
          case "abundance-list":
            category.innerHTML = "Creating Abundance";
            break;
          case "habits-list":
            category.innerHTML = "Breaking Habits";
            break;
          case "meditate-list":
            category.innerHTML = "Meditate";
            break;
          case "mental-health-list":
            category.innerHTML = "Improve Your Mental Health";
            break;
          case "mindfulness-list":
            category.innerHTML = "Practice Mindfulness";
            break;
          case "physical-health-list":
            category.innerHTML = "Improve Your Physical Health";
            break;
          case "positivity-list":
            category.innerHTML = "Increase Positivity";
            break;
          case "relaxation-list":
            category.innerHTML = "Learn the Art of Relaxation";
            break;
          case "sleep-list":
            category.innerHTML = "Improve Your Sleep";
            break;
          case "time-list":
            category.innerHTML = "Make the Most of Your Day";
            break;
        }
        document.getElementById("category-list").style.display = "none";
        document.getElementById(id).style.display = "grid";
        if(id !== 'category-list')
          document.getElementById("back-button").style.display = "none";
      }

      function closeList(id) {
        document.getElementById("message3").innerHTML = "Choose a category";
        document.getElementById(id).style.display = "none";
        document.getElementById("category-list").style.display = "grid";
        document.getElementById("back-button").style.display = "inline";
        lastList = id;
      }
    </script>
  </body>
</html>
