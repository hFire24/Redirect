<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>What's your objective?</title>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:ital,wght@1,500;1,800&family=Barlow:ital,wght@1,900&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="icons/icon.ico">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  </head>
  <body onLoad="randomTheme(1)" onResize="getWidth()">
    <h2 id='objective'>Choose a randomly generated objective for your day based on a tier.</h2>
    <div id='hideable'>
      <div id='tiers' class='three-list space'>
        <span class='hfire-link' onclick="loadBreak('A')">A-Tier Objective üèÖ</span>
        <span class='hfire-link' onclick="loadBreak('B')">B-Tier Objective üëç</span>
        <span class='hfire-link' onclick="loadBreak('C')">C-Tier Objective üòê</span>
      </div>
    </div>
    <div id='width'></div>
    <script src="script.js"></script>
    <script>
      const aTierObjectives = ["apply to as many tech jobs as you can.",
      "increase your chances of getting a job by reading that green book.",
      "learn as many new tech skills as you can.",
      "gain as much social skills as you can.",
      "clear out as many tasks as you can, including those in Future Tasks.",
      "achieve every goal in your goals list."];
      const bTierObjectives = ["get better at Stepmania.",
      "listen to as many General Conference talks as you can.",
      "digitize as much of your journal as possible.",
      "listen to as many guided meditations as possible.",
      "read through the book Atomic Habits.",
      "watch videos on the \"Get Life Advice\" playlist on shuffle."];
      const cTierObjectives = ["watch as much anime as you can.",
      "get better at playing Touhou.",
      "tackle your Watch Later playlist. If cleared, go down a YouTube rabbit hole.",
      "earn as many Bloons Tower Defense 6 medals as you can.",
      "try to unlock everything in Need for Speed: Hot Pursuit.",
      "find an 8 while playing Minesweeper.",
      "add as many new or returning songs to your iTunes library as you can.",
      "read through your digitized journal entries. Start from September 17, 2012.",
      "play through Flashpoint games. You can focus on one game or many games."];

      function loadBreak(tier) {
        let objective = 'shuffle through your liked videos on YouTube.';
        let index = 0;
        switch(tier) {
          case 'A':
            index = Math.floor(Math.random() * (aTierObjectives.length + 1));
            if(index >= aTierObjectives.length) {
              index -= aTierObjectives.length;
              objective = bTierObjectives[index];
            } else {
              objective = aTierObjectives[index];
            }
            break;
          case 'B':
            index = Math.floor(Math.random() * bTierObjectives.length + 1);
            if(index >= bTierObjectives.length) {
              index -= bTierObjectives.length;
              objective = cTierObjectives[index];
            } else {
              objective = bTierObjectives[index];
            }
            objective = bTierObjectives[index];
            break;
          case 'C':
            index = Math.floor(Math.random() * cTierObjectives.length);
            objective = cTierObjectives[index];
            break;
        }
        document.getElementById("objective").innerHTML = "Your objective of the day is to " + objective;
        document.getElementById("hideable").removeChild(document.getElementById("tiers"));
      }

      async function goThroughObjectives(i) {
        let allObjectives = aTierObjectives.concat(bTierObjectives,cTierObjectives);
        if(i < 0 || i >= allObjectives.length)
          i = 0;
        while(i < allObjectives.length) {
          document.getElementById("objective").innerHTML = "Your objective of the day is to " + allObjectives[i];
          await sleep(5000);
          i++;
        }
      }
    </script>
  </body>
</html>
