<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>You got redirected!</title>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:ital,wght@1,800&family=Barlow:ital,wght@1,900&display=swap" rel="stylesheet">

    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="icon.ico">
    <link id='apple' rel="apple-touch-icon" href="apple-touch-icon.png">
  </head>
  <body onLoad="randomTheme(55)" onresize='checkWidth()'>
    <div id='message' class='space'></div>
    <div id='hideable' class='space'>
    </div>
    <img id='image' src='media/Nissan Expanding Brain.png' alt='an expanding brain meme with the nissan logo appearing three times and the phrase "Drink Me" appearing in the top left' width="857"></img>
    <script>
      //Resizes the meme
      function checkWidth() {
        if(window.innerWidth < 857 / 0.9)
          document.getElementById('image').width = 0.9 * window.innerWidth;
        else {
          document.getElementById('image').width = 857;
        }
      }
      checkWidth();
      //Changes the apple icon
      var icon = document.getElementById("apple");
      var iconNumber = Math.floor(Math.random() * 7) + 1;
      if(iconNumber > 1)
        icon.href = "apple-touch-icon " + iconNumber + ".png";
      var mobileMessages = ['Stop sporadically checking your phone!',
      'Stop escaping from your problems!',
      'Get back to whatever you should be doing!',
      'Your phone is like a prison. Break out of it.',
      'Get out of here!',
      'You shouldn\'t use your phone now.',
      'Don\'t waste time getting distracted on your phone.',
      'Don\'t you have anything better to do with your time?',
      'Today will be a great day to catch up with your schedule and tasks.',
      'May this page suggest you take a short break?',
      'It is a good idea to get things done.',
      'Your mind must be wandering off, isn\'t it?',
      'You\'re wasting your time! Come on!',
      'Ehem. You need to stop procrastinating.',
      'You won\'t complete your tasks quickly if you sidetrack.',
      'There\'s nothing beneficial to do on your phone right now.',
      'Please get things done. I mean it.',
      'Time is a precious resource. Don\'t waste it.',
      'You have other things to do off your phone.',
      'Make sure you stay on task.',
      'Tempted? That\'s normal.<br>Tasks? They\'re tasks.<br>Hotel? Trivago.',
      'You live to be entertained? ðŸ¤£',
      'You\'re not bored, lazy, or procrastinating. You are fearful.',
      'Quit running away from your problems.',
      'Distractions: An ineffective way to cope fear. You should deal with your problems directly.',
      'Life isn\'t about seeking cuteness.',
        //Morning messages
      'There\'s more to life than your phone.',
      'There\'s more to life than the internet.',
        //Relaxation
      'Clearing your mind may help.',
      'Did you think to pray?',
      'Give your eyes a short 2 minute break.<br>Set a timer.',
      '<a href="https://www.google.com/search?q=breathing+exercise">Don\'t forget to take deep breaths.</a>',
      '<a href="https://music.youtube.com/channel/UC4r3AhGZWUGeh2AprrEJ_PA">Need help? Put on some relaxing music.</a>',
        //Task checking
      'Why don\'t you check your tasks for the day?',
      'How about you check your gTasks list?',
      'Just do your tasks!',
        //Day planning
      'Sometimes just managing your tasks can be motivating.',
      'If you\'re failing to plan, you\'re planning to fail.',
      'Why don\'t you <a href="https://youtu.be/r-dMhpgj0PA">think about things</a> you want and need to do?',
      'You may want to form a routine.',
        //Music
      '<a href="musicSlider.html">Why don\'t you put on some music to help you focus?</a>',
      '<a href="musicSlider.html">Put on music. If the music isn\'t making you productive, just ramp up the intensity.</a>',
      '<a href="https://www.thetabernaclechoir.org/listen.html">How about you listen to some heavenly Tabernacle Choir music?</a>',
        //Games
      '<a href="cyoa/46.html">Why not play one of these short games?</a>',
      'Why stare at your phone when you can instead drive?... in Need for Speed?',
        //Miscellaneous
      'Try saying out loud the thing you need to get done.',
      '<a href="https://www.churchofjesuschrist.org/study/ensign/1999/03/ten-ideas-to-increase-your-spirituality?lang=eng">How about you increase your spirituality?</a>',
      'Why not read your patriarchal blessing? It could put you on a better path in life.',
      'Why don\'t you read your journal entries?<br>Start from June 2012.',
        //Goals
      '<a href="https://skl.sh/37ueYoA">How about you go to Skillshare to double your social skills?</a>',
      //'<a href="art.html">Why don\'t you practice drawing anime on paper?</a>',
      'Instead of scrolling through social media, scroll through <u>Atomic Habits</u>.',
      'Why not make some progress on the Duolingo app?',
      '<a href="goals.html">Check out the goals page for the big things you want to do!</a>',
      'Those Purdue e-mails aren\'t going to read themselves.',
      '<a href="gcprogress.html">How about you listen to a General Conference talk?</a>',
      'Are there any goals in life you have?',
        //Health and fitness
      'Try standing up and walking for a bit. Look away from the screen.',
      'Why not get on the treadmill if you feel like it?',
      'Have you been searching for food terms lately? You should eat some food.',
      'Consider tidying up your room.',
      '<a href="https://www.youtube.com/watch?v=z6KKo85V9Ew">Why don\'t you do planks for one minute?</a>',
        //From the whoa webpage
      'Don\'t be dictated by your urges.',
      'You have more important things to do than browse your phone.',
        //From the relapse page
      'Now is not the time to be doing that.',
      'Please stop being distracted, and stop wasting your time.',
      'Watch your thoughts; they become words.<br>Watch your words; they become actions.<br>Watch your actions; they become habits.<br>Watch your habits; they become character.<br>Watch your character; it becomes your destiny.',
      'Freedom from addictions. That should be a goal.',
      'Do you really want to browse your phone?',
      'You want to be on your phone all the time? ðŸ¤£',
      'Freedom is not falling into Satan\'s temptations.',
        //Rejected relapse messages
      'Become a better person.',
      'Expunge that bad habit.',
      'To win in life, you must endure trials. It won\'t necessarily be fun, but it will make you better.',
      'Escape from temptation.',
      'Is what you\'re doing what you really want?',
      'Break out of this cycle of phone addiction.',
        //From the quotes webpage
      "Get important things done! You will feel a sense of accomplishment!",
      "I know you can become a better person! Just don't rush it.",
      "Life is a game. Know the rules and strategies. Apply them, and you'll win.",
      "The road to productivity. Take it, and you'll be successful.",
      "Be a productive human being! Do something good!",
      "Don't let the lazy part of you define your lifestyle.",
      "Given the huge amount of creature comforts available today, it's so difficult to resist laziness.",
      "Don't be like Anzu Futaba.",
        //Rejected positive messages
      'I hope you have a good day today.',
      'There sure are so many other fun things to do.',
        //Rejected negative messages
      'All distracting thoughts need to go away.',
      'Control yourself, or else you will lose in life.',
      'Forget about things that are currently distracting you.',
      'Don\'t have a lazy, unproductive day.',
      'You\'re behind on your schedule and tasks! Hurry up!',
      'Erase a distracting habit, and find a new one.',
      'You didn\'t come to Earth to be entertained.',
        //Other rejected messages
      'You need to do something else to become better.',
        //New messages
      'It looks like you feel stuck.',
      'It seems like you feel lost.',
      'Grow up and get a life!',
      'There\'s nothing new or interesting to check on your phone.',
      'Don\'t be afraid to step out of your comfort zone.',
      'Pay attention to your surroundings.',
      'Quit staring at your phone screen.',
      'You have a phone. Call your grandparents and have meaningful discussions with them.',
      "Heal the world. Make it a better place.",
      'Don\'t forget to stay hydrated.'];

      var index = 0;
      function randomMobileMessage()
      {
        index = Math.floor(Math.random() * mobileMessages.length);
        document.getElementById("message").innerHTML = mobileMessages[index];
        var d = new Date();
        if(d.getDay() === 0 && d.getHours() >= 6 && d.getHours() < 10 && Math.floor(Math.random() * 3))
        {
          document.getElementById("message").innerHTML = "Get ready for church!";
          index = mobileMessages.length + 2;
        }
        var sleepTime = Math.floor(Math.random() * 5);
        if ((d.getHours() <= 5 || d.getHours() >= 23) && !sleepTime)
        {
          document.getElementById("message").innerHTML = 'You should charge your phone away from the bed.';
          index = mobileMessages.length;
          console.log("Sleep " + sleepTime);
        }
        console.log("Message " + index);
        var message = document.getElementById("message").innerHTML;
        var linkMessages = ["Immediately put your phone away."];
        for (var i = 1; i <= 30; i++)
          linkMessages.push("Got something you need to do?");
        var linkIndex = Math.floor(Math.random() * linkMessages.length);
        if (index < 5)
          linkIndex = 0;
        var parent = document.getElementById("hideable");
        var link = document.getElementById("link");
        if(!link) {
          link = document.createElement("div");
          link.id = "link";
          link.className = "space";
          parent.appendChild(link);
        }
        //Sometimes, the link will change depending on the message.
        if (message === "Get ready for church!")
          link.innerHTML = "<a href='church.html'>Here's how to get ready.</a>";
        else if (message === "May this page suggest you take a short break?" || message === "Time to take a break.")
          link.innerHTML = "<a href='breaktime.html'>Don't do nothing. Do something!</a> <span onclick='rejectSomething(3)' style='color:white;'>No.</span>";
        else if (linkIndex > 0)
          link.innerHTML = "<a href='custom.html'>" + linkMessages[linkIndex] + "</a> <span onclick='rejectSomething(1)' style='color:white;'>No.</span>";
        else
          link.innerHTML = linkMessages[linkIndex];
        //Put index value to the console
        console.log("Link " + linkIndex);
        //If the message is too long, this fires up.
        if(actualLength() > 200) {
          document.getElementById("message").classList.add("tiny");
          document.getElementById("message").classList.remove("small");
        }
        else if(actualLength() > 90) {
          document.getElementById("message").classList.add("small");
          document.getElementById("message").classList.remove("tiny");
        }
        else {
          document.getElementById("message").classList.remove("small");
          document.getElementById("message").classList.remove("tiny");
        }
      }

      randomMobileMessage();

      function actualLength() {
        var text = document.getElementById("message");
        var txt = text.innerText || text.textContent;
        console.log("Shortened message: " + txt);
        return txt.length;
      }
    </script>
    <script src="script.js"></script>
    <script src="pulltorefresh.js/dist/pulltorefresh.js"></script>
    <script>
    PullToRefresh.init({
      mainElement: 'body',
      distMax: window.innerHeight / 2,
      onRefresh: function() { randomMobileMessage() }
    });
    </script>
  </body>
</html>
