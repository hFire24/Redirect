<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>You got redirected!</title>
    <link id="external-font-sheet" href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:ital,wght@1,500;1,800&family=Barlow:ital,wght@1,900&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="icons/icon.ico">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  </head>
  <body onload="loadSearchTerm();">
    <h1 id="message"></h1>
    <h2 id="question">Why did you decide to search for that?</h2>
    <div id='link'>
      <input id="newBreak" type="text"><button id="submit" onClick="submit()">Submit</button>
      <div id="dropdown">
        <span class="custom-select" style="width:200px;">
          <select id='custom-reason'>
            <option id="-1" value="-1"></option>
          </select>
        </span><button onclick="submit()">Submit</button>
      </div>
    </div>
    <div id='yesno' class='two-list medium space' style='display:none;'>
      <a class='hfire-link' onclick="addicted()">Yes</a>
      <a class='hfire-link' onclick="restoreLink()">No</a>
    </div>
    <div id='dependency' class='space' style='display:none;'>
      <div class='slidercontainer space'>
        <input type="range" min="0" max="6" value="3" class="slider" id="dependency-slider"> <button onclick="dependencySubmit()">Submit</button>
      </div>
      <div id="importance">I want to do it</div>
    </div>
    <audio id='nuke'>
      <source src="https://hfire24.github.io/Redirect/media/Tactical Nuke.mp3" type="audio/mpeg">
    </audio>
    <audio id='press'>
      <source src="media/Button Push.mp3" type="audio/mpeg">
    </audio>
    <script>
    var searchTerm = true;
    var term = "none";

    function loadSearchTerm() {
      var redirectMessages = ['YouTube. Twitter. DeviantArt. Reddit. Newgrounds. Image Boards. Facebook. Everything you find to be cute and attractive.<br><span id="stress">FORGET ABOUT \'EM ALL!</span>',
      'Get back to whatever you should be doing!',
      'Get out of here!',
      'You were redirected from a blacklisted search term.',
      'You shouldn\'t search that term.',
      'This search term is blocked.',
      'Don\'t waste time getting distracted on Google.',
      'Hey! You aren\'t supposed to do that!',
      'Don\'t you have anything better to do with your time?',
      'Today will be a great day to catch up with your schedule and tasks.',
      'You might regret searching that search term.',
      'Don\'t search for time-wasting things!',
      'No searching for blocked search terms. You understand?',
      'May this page suggest you take a short break?',
      'It is a good idea to get things done.',
      'Your mind must be wandering off, isn\'t it?',
      'This is a webpage. And it intercepted your internet access!',
      'Stop typing in distracting search terms!',
      'Stop escaping from your problems!',
      'You\'re wasting your time! Come on!',
      'Ehem. You need to stop procrastinating.',
      'You won\'t complete your tasks quickly if you sidetrack.',
      'There\'s nothing beneficial to see there.',
      'Please get things done. I mean it.',
      'Time is a precious resource. Don\'t waste it.',
      'Seriously? You got stuff to do!',
      'Make sure you stay on task.',
      'Cute or fun things are good, but they are distractions.',
      'You\'ve made it this far to code this webpage.',
      'Tempted? That\'s normal.<br>Tasks? They\'re tasks.<br>Hotel? Trivago.',
      'You live to be entertained? ü§£',
      'What other important things do you need to get done?',
      'You\'re not bored, lazy, or procrastinating. You are fearful.',
      'Quit running away from your problems.',
      'Distractions: An ineffective way to cope fear. You should deal with your problems directly.',
      'Life isn\'t about seeking cuteness.',
      'üòÜYou got redirected!üòÜ',
      '<a href="repent2.html">You need more Jesus.</a>',
      'Do not screw up your day.',
      'Do not ruin, darken, or destroy your future.',
      'Do not throw your life away.',
      'Don\'t be dictated by your urges.',
      'You have more important things to do than browse some websites.',
      'Think of something else.',
      'Resist temptations.',
      '<a href="repent2.html">Do not forsake God.</a>',
      'Don\'t procrasturbate and be a loser.',
      'Do not abandon goals.',
      'You must snap out of it!',
      'This is unacceptable.',
      'Stop it and get some help.',
      'Now is not the time to be doing that.',
      'Please stop being lazy, and stop wasting your time.',
      'Make your future brighter before it\'s too late.',
      'Quitting indulgent activities is not easy, but worth it.',
      'Watch your thoughts; they become words.<br>Watch your words; they become actions.<br>Watch your actions; they become habits.<br>Watch your habits; they become character.<br>Watch your character; it becomes your destiny.',
      'Do not feel weak. You are stronger than you think.',
      'Be sure you get important things done.',
      'Freedom from addictions. That should be a goal.',
      'Do you really want to look at pics of cute anime girls?',
      'You are capable of doing great things.',
      'Freedom is not falling into Satan\'s temptations.',
      'If you prioritize comfort and self-indulgence over freedom and achievement, you will live a life of regret.'];
      /*for(var i = 0; i < 12; i++)
        redirectMessages.push("‚ò¢IMMEDIATELY LEAVE‚ò¢");*/
      redirectMessages.push('‚úùPLAY TABERNACLE CHOIR MUSIC‚úù',
      '‚ò¢<i>PLAY FURY OF THE STORM </i>‚ò¢');
      //Get random message index from messages array
      var index = Math.floor(Math.random() * redirectMessages.length);
      var d = new Date();
      var sleepTime = Math.floor(Math.random() * 5);
      if ((d.getHours() <= 4 || d.getHours() >= 22) && !sleepTime) {
        redirectMessages.push('You should be asleep by now.');
        index = redirectMessages.length - 1;
        console.log("Sleep " + sleepTime);
      }
      /*if(d.getDay() === 0 && d.getHours() >= 6 && d.getHours() < 10 && Math.floor(Math.random() * 3))
      {
        redirectMessages.push('Get ready for church!');
        index = redirectMessages.length - 1;
      }*/
      //Put message to screen using the index value of the array
      var message = redirectMessages[index];
      $("message").innerHTML = message;
      //Put index value to the console
      console.log("Message " + index);
      if(actualLength() > 200) {
        document.getElementById("message").classList.add("tiny");
        document.getElementById("message").classList.remove("small");
      }
      else if(actualLength() > 90) {
        document.getElementById("message").classList.add("small");
        document.getElementById("message").classList.remove("tiny");
      }
      else if(message.indexOf('‚ò¢') >= 0)
        $("message").addEventListener("click",nuke);
      if(message === "‚ò¢IMMEDIATELY LEAVE‚ò¢")
        location.href = "whoa/old.html";

      var removeQuestion = false;
      var linkMessages = ["Immediately close this tab."];
      for (var i = 1; i <= 30; i++)
        linkMessages.push("How are you feeling?");
      //Get random link from array
      var linkIndex = Math.floor(Math.random() * linkMessages.length);
      //If the message tells you to leave, the linkIndex will be 0.
      if (index < 3)
        linkIndex = 0;
      if ((linkIndex === 0 || message === "May this page suggest you take a short break?" || message === "Time to take a break.") && number !== 7)
        removeQuestion = true;

      if ($("message").innerHTML === "Get ready for church!")
        link.innerHTML = "<a href='https://hfire24.github.io/Redirect/church.html'>Here's how to get ready.</a>";
      else if (message === "May this page suggest you take a short break?")
        link.innerHTML = "<a href='https://hfire24.github.io/Redirect/time.html'>Don't do nothing. Do something!</a> <strong onclick='rejectSomething(3)' style='color:white;'>No.</strong>";
      else if (message.startsWith('‚úù'))
        link.innerHTML = "<u onclick='pushTheButton2(3)'>Click here.</u> <strong onclick='rejectSomething(1)' style='color:white;'>No.</strong>";
      else if (message.startsWith('‚ò¢<i>PLAY'))
        link.innerHTML = "<u onclick='pushTheButton2(4)'>Click here.</u> <strong onclick='rejectSomething(1)' style='color:white;'>No.</strong>";
      else if (index >= redirectMessages.indexOf('‚ò¢ERADICATE THE SIN OF LUST‚ò¢') && index <= redirectMessages.indexOf('‚ò¢YOU NEED MORE JESUS‚ò¢'))
        link.innerHTML = "<u onclick='pushTheButton2(2)'>Click here.</u> <strong onclick='rejectSomething(1)' style='color:white;'>No.</strong>";
      else if (message.startsWith('‚ò¢'))
        link.innerHTML = "Do not bring your phone with you.";
      if(removeQuestion) {
        if(linkIndex === 0)
          link.innerHTML = linkMessages[linkIndex];
        document.body.removeChild($("question"));
      }
      //Put index value to the console
      console.log("Link " + linkIndex);

      var theme = Math.floor(Math.random() * 5) + 5;
      if(message.startsWith('‚ò¢') || message.startsWith('‚úù')) {
        theme = 10;
        $("message").style.fontFamily = "Impact, Haettenschweiler, HelveticaNeue-CondensedBlack, Barlow Semi Condensed, sans-serif";
        $("external-font-sheet").href = "https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:ital,wght@1,800&family=Barlow:ital,wght@1,900&display=swap";
      }
      var themeText = document.createElement("strong");
      themeText.id = "theme";
      themeText.style.display = "block";
      switch(theme) {
        case 5:
          themeText.innerHTML = "Brought to you by the gray theme.";
          break;
        case 6:
          themeText.innerHTML = "Brought to you by the slate green theme.";
          break;
        case 7:
          themeText.innerHTML = "Brought to you by the purple theme.";
          break;
        case 8:
          themeText.innerHTML = "Brought to you by the hot & dry theme.";
          break;
        case 9:
          themeText.innerHTML = "Brought to you by the yellow-green theme.";
          break;
        case 10:
          document.body.removeChild($("question"));
          break;
        default:
          themeText.innerHTML = "Brought to you by the black theme.";
      }
      document.body.appendChild(themeText);
      document.body.className = "theme" + theme.toString();
      console.log("Theme " + theme);
    }

    function rejectSomething(time) {
      if(time === 1)
        link.innerHTML = "<a href='https://hfire24.github.io/Redirect/time.html'>Don't do nothing. Do something!</a> <span onclick='rejectSomething(2)' style='color:white;'>No.</span>";
      else if(time === 3)
        link.innerHTML = "<a href='https://hfire24.github.io/Redirect/custom.html'>Got something you need to do?</a> <span onclick='rejectSomething(2)' style='color:white;'>No.</span>";
      else
        location.href = "https://hfire24.github.io/Redirect/cyoa/1.html";
    }

    function submit() {
      console.log($("custom-reason").value);
      console.log($($("custom-reason").value).innerHTML);
      console.log(dependencyValues[slider1.value]);
      console.log(slider1.value);
      console.log(slider1.value === "6");
      console.log($("newBreak").value);
      var inputText = '';
      if($("newBreak").value === '')
      {
        if($($("custom-reason").value).innerHTML !== '')
          inputText = $($("custom-reason").value).innerHTML.toLowerCase();
        else if($('dependency').style.display === 'block')
          inputText = dependencyValues[slider1.value];
      }
      else
        inputText = $("newBreak").value.toLowerCase();
      console.log(inputText);
      if(found(['regress', 'shrink'],inputText))
        location.href = "whoa/index.html";
      else if(inputText.indexOf("touhou") >= 0) {
        $("question").innerHTML = "If you love Touhou so much, listen to Touhou music on MusicBee.";
        document.body.removeChild($("link"));
      }
      else if(slider1.value < 3) {
        $("question").innerHTML = "Control these thoughts and kick them out!";
        $("link").innerHTML = "<a href='cyoa/20.html'>But I can't get them out!</a>";
      }
      else if(slider1.value === "3" && ($("newBreak").value === '' || $($("custom-reason").value).innerHTML === '') && $('dependency').style.display !== 'none') {
        $("question").innerHTML = "You want to do it, but you don't need to do it. There are other ways to feel happiness.";
        $("link").innerHTML = "<a href='cyoa/64.html'>Click here to continue.</a>";
      }
      else if(slider1.value === "4" || inputText.indexOf("really want") >= 0 && found(['cute','anime','loli','girl'],inputText)) {
        $("question").innerHTML = "You are being deceived by your urges!";
        $("link").innerHTML = "<a href='drawing-progress.html?term=" + term + "'>Be more creative instead!</a> <strong onclick='rejectSomething(6)' style='color:white;'>No.</strong>";
      }
      else if(slider1.value === "5" || inputText.indexOf("thing in the world") >= 0)
        location.href = "fiveminutetimer.html";
      else if(slider1.value === "6") {
        $("message").innerHTML = "‚úùPLAY TABERNACLE CHOIR MUSIC‚úù";
        document.body.removeChild($("question"));
        $("link").innerHTML = "Close tabs and programs, and <u id='thebutton' onclick='pushTheButtonTC()'>click here.</u>";
      }
      else if(inputText.endsWith("want to") && term !== "none") {
        $("question").innerHTML = "How much do you want to look at " + term + "?";
        $("link").style.display = "none";
        $("dependency").style.display = "block";
        if(inputText.indexOf("really") >= 0) {
          slider1.value = 4;
          $("importance").innerHTML = dependencyValues[4];
        }
      }
      /*else if(inputText === "11092008") {
        location.href = "art.html?term=" + term;
      }*/
      else
        finalTest(inputText,"searchterm");
    }

    var reasons = ["Because I'm lazy",
    "Because I'm bored", "Because I'm tired", "Because I'm really bored", "I have nothing to do",
    "For no reason",
    "Because I feel like it",
    "Because I want to",
    "Because I want to look at cute anime girls",
    "Because I want to procrastinate",
    "To check what's new",
    "I'm struggling in life",
    "I don't know",
    "Because lolis are so cute",
    "Because I can",
    "Because anime",
    "Because Cirno",
    "I love maids",
    "I love dresses",
    "Because I feel stressed",
    "Because I feel busy",
    "Because I feel hungry",
    "I feel like playing games",
    "I just relapsed",
    "Because I can't focus",
    "Because I feel overwhelmed",
    "Because I want to relax",
    "For research",
    "Because I want to say \"aww\"",
    "Because Touhou",
    "To browse age regression pictures",
    "To see anime girls wear big hats",
    "To see anime girls wear oversized clothes",
    "I already looked at bad stuff",
    "I got something I need to do",
    "I'm ready to do something else",
    "Because I love cute anime girls"];
    for(var i in reasons) {
      var option = document.createElement('option');
      option.id = i;
      option.value = i;
      option.innerHTML = reasons[i];
      document.getElementById("custom-reason").appendChild(option);
    }

    function addicted() {
      /*restoreLink();
      if(searchTerm)
        $("newBreak").value = "11092008";
      else
        $("newBreak").value = "cute";
      submit();
      $("newBreak").value = "";*/
      location.href = "drawing-progress.html";
      /*$("question").innerHTML = "How much do these thoughts control you?";
      $("yesno").style.display = "none";
      $("dependency").style.display = "block";*/
    }

    var dependencyValues = ['I don\'t want to do it',
    'Meh',
    'I kind of want to do it',
    'I want to do it',
    'I really want to do it',
    'I don‚Äôt want to do anything other than that',
    'Not looking at it is making me depressed'];
    var dependency = document.getElementById("dependency");
    var slider1 = document.getElementById("dependency-slider");
    slider1.max = dependencyValues.length - 1;
    slider1.oninput = function () {
      importance.innerHTML = dependencyValues[slider1.value];
    }

    function dependencySubmit() {
      submit();
      document.body.removeChild($('dependency'));
      $("link").style.display = "block";
    }

    function restoreLink() {
      $("question").innerHTML = "Why did you decide to search for that?";
      $("yesno").style.display = "none";
      $("link").style.display = "block";
    }

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function nuke() {
      document.getElementById("nuke").play();
    }

    async function pushTheButton2(number) {
      var emergency = '';
      document.getElementById("nuke").pause();
      document.getElementById("press").play();
      link.style.color = 'white';
      await sleep(1750);
      switch(number)
      {
        case 2:
          emergency = 'https://hfire24.github.io/Redirect/repent2.html';
          break;
        case 3:
          emergency = 'https://www.thetabernaclechoir.org/listen.html';
          break;
        case 4:
          emergency = 'https://youtu.be/5i7qZxICwgQ';
          break;
        default:
          emergency = 'https://emergency.nofap.com/redirect?religious=true&cat=em&cat=rel';
      }
      location.href = emergency;
    }

    async function pushTheButtonTC()
    {
      document.getElementById("press").play();
      document.getElementById("thebutton").style.color = 'white';
      await sleep(1750);
      location.href = "https://www.thetabernaclechoir.org/listen.html";
    }
    </script>
    <script src="interactivefiction.js"></script>
    <script src="script.js"></script>
  </body>
</html>
