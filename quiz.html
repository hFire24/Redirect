<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Take a quiz: Color Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:ital,wght@1,500;1,800&family=Barlow:ital,wght@1,900&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="icons/icon.ico">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  </head>
  <body class="theme2">
    <h2 id="question" class="space">Take this quiz. Your life goal involves raising a family.</h2>
    <div id='choices' class='four-list'>
      <!--Life goal?-->
      <a class='hfire-link draw' onclick='addPoints(1)'>Strongly Disagree</a>
      <a class='hfire-link draw' onclick='addPoints(2)'>Disagree</a>
      <a class='hfire-link draw' onclick='addPoints(3)'>Agree</a>
      <a class='hfire-link draw' onclick='addPoints(4)'>Strongly Agree</a>
    </div>
    <div id='continue' class='medium' style='display:none;'>
      <a href='quiz.html'>Take the quiz again</a>
    </div>
    <script src='script.js'></script>
    <script>
    var score = 0;
    var question = 1;

    const questions = ["Your life goal involves raising a family.",
    "Your love to eat.",
    "You enjoy watching movies.",
    "The best city in the world is in Europe.",
    "It is a good idea to donate to charity.",
    "You are good at drawing.",
    "You have a pet.",
    "When you work, you feel happy.",
    "You want to become rich.",
    "It is a good idea for you to be sociable."];

    function addPoints(points) {
      score += points;
      console.log("You have " + score + " points")
      question++;
      if(question === 11)
      {
        var randomModifier = Math.floor(Math.random() * 5) - 2;
        score += randomModifier;
        if (score === 42)
          score = 40;
        console.log("You final score is " + score + " points")
        finished();
      }
      else
        $("question").innerHTML = questions[question - 1];
    }

    function takeShortcut(score) {
      score = this.score;
      question = 10;
      addPoints(0);
    }

    function finished() {
      var answers = ["Your color is black!", //Less than 16
      "Your color is brown!", //16-17
      "Your color is gray!", //18-19
      "Your color is red!", //20-23
      "Your color is orange!", //24-25
      "Your color is yellow!", //26-29
      "Your color is green!", //30-31
      "Your color is blue!", //32-35
      "Your color is purple!", //36-37
      "Your color is white!"]; //38-40

      switch (Math.floor(score/2)) {
        case 8:
          answer = answers[1]; //Brown
          break;
        case 9:
          answer = answers[2]; //Gray
          break;
        case 10:
        case 11:
          answer = answers[3]; //Red
          break;
        case 12:
          answer = answers[4]; //Orange
          break;
        case 13:
        case 14:
          answer = answers[5]; //Yellow
          break;
        case 15:
          answer = answers[6]; //Green
          break;
        case 16:
        case 17:
          answer = answers[7]; //Blue
          break;
        case 18:
          answer = answers[8]; //Purple
          break;
        case 19:
        case 20:
          answer = answers[9]; //White
          break;
        default:
          answer = answers[0]; //Black
      }
      $("question").innerHTML = answer;
      $("choices").style.display = "none";
      $("continue").style.display = "block";
    }
    </script>
  </body>
</html>
